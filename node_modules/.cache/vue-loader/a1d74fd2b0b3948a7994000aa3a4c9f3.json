{"remainingRequest":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/src/views/nuevo_anuncio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/src/views/nuevo_anuncio.vue","mtime":1637861887673},{"path":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/node_modules/cache-loader/dist/cjs.js","mtime":1637372595906},{"path":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/node_modules/babel-loader/lib/index.js","mtime":1637372596910},{"path":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/node_modules/cache-loader/dist/cjs.js","mtime":1637372595906},{"path":"/home/kevin/Universidad/FPI/gitHubProyect/fpiFinal/fpi_project/node_modules/vue-loader/lib/index.js","mtime":1637372597218}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiLCBzdCB9IGZyb20gIi4uL2ZpcmViYXNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYW51bmNpbyIsCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuY3JlYXJfYW51bmNpbygpOwogIH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIG1zZ2FudW5jaW86IGZhbHNlLAogICAgaWRfZm90bzogMSwKICAgIC8vIGlkX2FudW5jaW86ICIiLAogICAgY2FyZ2FuZG86IGZhbHNlLAogICAgYWxlcnQ6IGZhbHNlLAogICAgY29udGFkb3I6IDAsCiAgICBjb2RpZ286ICIiLAogICAgaW1hZ2VuMjogbnVsbCwKICAgIG1vZGVsOiAwLAogICAgYW51bmNpbzogewogICAgICBlc3RhZG86ICIiLAogICAgICBtYXJjYTogIiIsCiAgICAgIG1vZGVsbzogIiIsCiAgICAgIHRhbWFuaW86ICIiLAogICAgICBzaXN0ZW1hb3A6ICIiLAogICAgICByb206ICIiLAogICAgICByYW06ICIiLAogICAgICB0aXR1bG86ICIiLAogICAgICB2ZW5kZWRvcjogIiIsCiAgICAgIHRlbGVmb25vOiAiIiwKICAgICAgZGVzY3JpcGNpb246ICIiLAogICAgICBwcmVjaW86IDAsCiAgICAgIGZlY2hhOiAiIgogICAgfSwKICAgIGltYWdlbjoKICAgICAgImh0dHBzOi8vc3QzLmRlcG9zaXRwaG90b3MuY29tLzIzNTk0OTIyLzMxODIyL3YvNjAwL2RlcG9zaXRwaG90b3NfMzE4MjIxMzY4LXN0b2NrLWlsbHVzdHJhdGlvbi1taXNzaW5nLXBpY3R1cmUtcGFnZS1mb3Itd2Vic2l0ZS5qcGciLAogICAgZXN0YWRvOiAiIiwKICAgIGltYWdlbmVzOiBbXSwKICB9KSwKICBjcmVhdGVkKCl7CiAgICB0aGlzLm51bWVyb19yYW5kb20oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGNyZWFyX2FudW5jaW8oKXsKICAgICAgdGhpcy5hbnVuY2lvLnByZWNpbz1wYXJzZUludCh0aGlzLmFudW5jaW8ucHJlY2lvKTsKICAgICAgdGhpcy5hbnVuY2lvLmZlY2hhPW5ldyBEYXRlKCk7CiAgICAgIGxldCB0aGlzMj10aGlzOwogICAgICBhd2FpdCBkYi5jb2xsZWN0aW9uKCJhbnVuY2lvcyIpLmRvYyh0aGlzMi5jb2RpZ28pLnNldCh0aGlzMi5hbnVuY2lvKS50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICB0aGlzMi4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfSkKICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcigiZXJyb3I6IiwgZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIGd1YXJkYXJBbnVuY2lvKCkgewogICAgLy8gICB0aGlzLmFudW5jaW8ucHJlY2lvPXBhcnNlSW50KHRoaXMuYW51bmNpby5wcmVjaW8pOwogICAgLy8gICBsZXQgdGhpczI9dGhpczsKICAgIC8vICAgZGIuY29sbGVjdGlvbigiYW51bmNpb3MiKQogICAgLy8gICAgIC5kb2ModGhpcy5pZF9hbnVuY2lvKS51cGRhdGUodGhpcy5hbnVuY2lvKS50aGVuKGZ1bmN0aW9uKCl7CiAgICAvLyAgICAgICAgdGhpczIuJHJvdXRlci5wdXNoKCIvIik7CiAgICAvLyAgICAgfSkKICAgIC8vIH0sCiAgICBhc3luYyBzdWJpcl9pbWFnZW4oKSB7CiAgICAgIHRoaXMuY2FyZ2FuZG8gPSB0cnVlOwogICAgICBpZiAodGhpcy5pbWFnZW4yKSB7CiAgICAgICAgbGV0IHRoaXMyID0gdGhpczsKICAgICAgICB0aGlzLmNvbnRhZG9yKys7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHJlZnMgPSBzdC5yZWYoKTsKICAgICAgICAgIGNvbnN0IGltZ3JlZiA9IGF3YWl0IHJlZnMKICAgICAgICAgICAgLmNoaWxkKHRoaXMuY29kaWdvKQogICAgICAgICAgICAuY2hpbGQodGhpcy5jb250YWRvciArICIuanBnIik7CiAgICAgICAgICBpbWdyZWYucHV0KHRoaXMuaW1hZ2VuMikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMyLnRyYWVyX2ltYWdlbigpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hbGVydCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB0cmFlcl9pbWFnZW4oKSB7CiAgICAgIGNvbnN0IHJlZnMgPSBzdC5yZWYoKTsKICAgICAgbGV0IHRoaXMyID0gdGhpczsKICAgICAgYXdhaXQgcmVmcwogICAgICAgIC5jaGlsZCh0aGlzLmNvZGlnbyArICIvIikKICAgICAgICAubGlzdEFsbCgpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgcmVzdWx0Lml0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGltZ1JlZmUpIHsKICAgICAgICAgICAgbGV0IG5vbWJyZSA9IGltZ1JlZmUubmFtZTsKICAgICAgICAgICAgaWYgKG5vbWJyZSA9PSB0aGlzMi5jb250YWRvciArICIuanBnIikgewogICAgICAgICAgICAgIGxldCBudWV2YV9pbWFnZW4gPSB7fTsKICAgICAgICAgICAgICBpbWdSZWZlLmdldE1ldGFkYXRhKCkudGhlbihmdW5jdGlvbiAobWV0YWRhdGEpIHsKICAgICAgICAgICAgICAgIG51ZXZhX2ltYWdlbi5uYW1lID0gbm9tYnJlOwogICAgICAgICAgICAgICAgbnVldmFfaW1hZ2VuLnRhbWFuaW8gPSBtZXRhZGF0YS5zaXplIC8gMTAwMDsKICAgICAgICAgICAgICAgIG51ZXZhX2ltYWdlbi50aXBvID0gbWV0YWRhdGEuY29udGVudFR5cGU7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaW1nUmVmZS5nZXREb3dubG9hZFVSTCgpLnRoZW4oZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICAgICAgbnVldmFfaW1hZ2VuLmxpbmsgPSB1cmw7CiAgICAgICAgICAgICAgICB0aGlzMi5pbWFnZW5lcy5wdXNoKG51ZXZhX2ltYWdlbik7CiAgICAgICAgICAgICAgICB0aGlzMi5jYXJnYW5kbyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpczIuaW1hZ2VuMiA9IG51bGw7CiAgICAgICAgICAgICAgICAvLyBpZiAodGhpczIuY29udGFkb3IgPT0gMSkgewogICAgICAgICAgICAgICAgLy8gICB0aGlzMi5pbWFnZW5lcy5zaGlmdCgpOwogICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0sCiAgICBlbGltaW5hcl9mb3RvKGluZGljZSwgbm9tYnJlKSB7CiAgICAgIGNvbnN0IHJlZnMgPSBzdC5yZWYoKTsKICAgICAgbGV0IHRoaXMyID0gdGhpczsKICAgICAgdmFyIGltZ3JlZiA9IHJlZnMuY2hpbGQodGhpcy5jb2RpZ28gKyAiLyIgKyBub21icmUpOwoKICAgICAgaW1ncmVmCiAgICAgICAgLmRlbGV0ZSgpCiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhpczIuaW1hZ2VuZXMuc3BsaWNlKGluZGljZSwgMSk7CiAgICAgICAgICB0aGlzMi5jb250YWRvci0tOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coIk5vIHNlIGJvcnJvIGxhIGltYWdlbjogIiArIGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAgbnVtZXJvX3JhbmRvbSgpIHsKICAgICAgdGhpcy5jb2RpZ28gPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMjApOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvZGlnbykKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["nuevo_anuncio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nuevo_anuncio.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<!-- class=\"d-flex flex-sm-wrap-reverse\" -->\n  <v-container >\n      <v-row >\n        <v-col cols=\"12\" style=\"text-align: center\" >\n          <h1 class=\"mt-3\">Nuevo Anuncio</h1>\n          <v-divider style=\"width: 100%\"> inset ></v-divider>\n        </v-col>\n      </v-row>\n\n      <v-row>\n        <v-col cols=\"12\">\n          <form>\n            <v-row>\n              <v-col cols=\"12\" sm=\"6\">\n                <v-radio-group label=\"Estado:\" v-model=\"anuncio.estado\" row>\n                  <v-radio\n                    color=\"#4a148c\"\n                    label=\"Nuevo\"\n                    value=\"nuevo\"\n                  ></v-radio>\n                  <v-radio\n                    color=\"#4a148c\"\n                    label=\"Usado\"\n                    value=\"usado\"\n                  ></v-radio>\n                </v-radio-group>\n                <v-text-field\n                  label=\"Marca \"\n                  v-model=\"anuncio.marca\"\n                  class=\"text-capitalize\"\n                > \n                <v-icon slot=\"prepend\"> mdi-cellphone </v-icon> \n                </v-text-field>\n                <v-text-field\n                  label=\"Modelo \"\n                  v-model=\"anuncio.modelo\"\n                ><v-icon slot=\"prepend\"> mdi-cellphone-cog </v-icon> </v-text-field>\n                <v-text-field\n                  label=\"TamaÃ±o pantalla(en pulgadas) \"\n                  v-model=\"anuncio.tamanio\"\n                ><v-icon slot=\"prepend\"> mdi-cellphone-screenshot </v-icon> </v-text-field>\n                <v-text-field\n                  label=\"Sistema operativo \"\n                  v-model=\"anuncio.sistemaop\"\n                ><v-icon slot=\"prepend\">mdi-android </v-icon> </v-text-field>\n                <v-text-field\n                  label=\"Memoria ROM \"\n                  v-model=\"anuncio.rom\"\n                ><v-icon slot=\"prepend\"> mdi-memory</v-icon> </v-text-field>\n                <v-text-field\n                  label=\"Memoria RAM \"\n                  v-model=\"anuncio.ram\"\n                ><v-icon slot=\"prepend\"> mdi-memory</v-icon> </v-text-field>\n              </v-col>\n\n              <v-col cols=\"12\" sm=\"6\">\n                <v-text-field\n                  v-model=\"anuncio.titulo\"\n                  class=\"mt-7\"\n                  label=\"Titulo breve del anuncio \"\n                ><v-icon slot=\"prepend\" > mdi-format-text</v-icon></v-text-field>\n                <v-text-field\n                  v-model=\"anuncio.vendedor\"\n                  label=\"Vendedor \"\n                ><v-icon slot=\"prepend\"> mdi-account-circle</v-icon></v-text-field>\n                <v-text-field\n                  v-mask=\"'####-####'\"\n                  v-model=\"anuncio.telefono\"\n                  label=\"Numero telefonico \"\n                ><v-icon slot=\"prepend\"> mdi-phone</v-icon></v-text-field>\n                <v-textarea\n                  v-model=\"anuncio.descripcion\"\n                  label=\"Descripcion del producto\"\n                ><v-icon slot=\"prepend\" > mdi-text-long</v-icon></v-textarea>\n\n                <v-text-field\n                  v-model=\"anuncio.precio\"\n                  oninput=\"if(this.value < 0) this.value = 0;\"\n                  type=\"number\"\n                  label=\"Precio: \"\n                >\n                  <v-icon slot=\"prepend\">mdi-currency-usd</v-icon>\n                </v-text-field>\n              </v-col>\n            </v-row>\n          </form>\n        </v-col>\n      </v-row>\n\n      <v-col cols=\"12\">\n      <v-row class=\"\">\n        <v-col cols=\"6 ml-7\" class=\"\"> </v-col>\n        <v-col\n          cols=\"5\"\n          class=\"d-flex justify-center\"\n          style=\"text-align: center\"\n        >\n        </v-col>\n      </v-row>\n    </v-col> \n\n      <v-snackbar v-model=\"alert\" timeout=\"3000\" color=\"purple darken-3\">\n        <v-icon>mdi-cancel</v-icon>\n        Debe seleccionar antes una imagen para subirla.\n      </v-snackbar>\n      <v-snackbar v-model=\"msganuncio\" timeout=\"3000\" color=\"purple darken-3\">\n        <v-icon>mdi-check</v-icon>\n        Anuncio creado exitosamente\n      </v-snackbar>\n\n    <!--   class=\"order-xs-first mb-15\" -->\n      <v-row >\n        <v-col class=\"d-none d-sm-flex d-sm-none justify-center\" sm=\"6\">\n          \n            <v-simple-table>\n              <template v-slot:default>\n                <thead>\n                  <tr>\n                    <th class=\"text-left\">#</th>\n                    <th class=\"text-left\">TamaÃ±o</th>\n                    <th class=\"text-left\">Tipo</th>\n                    <th class=\"text-left\">Eliminar</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(imagen, index) in imagenes\" :key=\"index\">\n                    <td>{{ index }}</td>\n                    <td>{{ imagen.tamanio }} kb</td>\n                    <td>{{ imagen.tipo }}</td>\n                    <td>\n                      <v-btn\n                        @click=\"eliminar_foto(index, imagen.name)\"\n                        class=\"red\"\n                        icon\n                      >\n                        <v-icon> mdi-minus </v-icon></v-btn\n                      >\n                    </td>\n                  </tr>\n                </tbody>\n              </template>\n            </v-simple-table>\n        </v-col>\n\n        <v-col cols=\"12\" sm=\"6\">\n          <v-card\n            class=\"justify-center ml-4 mt-6\"\n            flat\n            tile\n            style=\"height: 200px\"\n            width=\"80%\"\n            height=\"100%\"\n          >\n            <v-row>\n              <v-col cols=\"12\">\n                <v-carousel v-model=\"model\" height=\"200px\" width=\"70%\">\n                  <v-carousel-item\n                    contain\n                    v-for=\"(foto, index) in imagenes\"\n                    :key=\"index\"\n                    width=\"100%\"\n                    style=\"height: 100%\"\n                  >\n                    <v-sheet height=\"100%\" width=\"100%\" tile elevation=\"10\">\n                      <v-img\n                        contain\n                        :src=\"foto.link\"\n                        width=\"100%\"\n                        height=\"100%\"\n                      >\n                        <v-progress-circular\n                          v-if=\"cargando\"\n                          absolute\n                          justify=\"center\"\n                          indeterminate\n                          color=\"purple\"\n                        ></v-progress-circular>\n                      </v-img>\n                    </v-sheet>\n                  </v-carousel-item>\n                </v-carousel>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"10\" sm=\"10\">\n                <v-file-input\n                  accept=\"image/*\"\n                  outlined\n                  class=\"mb-10\"\n                  v-model=\"imagen2\"\n                ></v-file-input>\n              </v-col>\n              <v-col cols=\"2\" sm=\"1\">\n                <v-btn\n                  @click=\"subir_imagen\"\n                  color=\"white\"\n                  class=\"purple darken-3\"\n                  icon\n                  fab\n                  ><v-icon>mdi-plus</v-icon></v-btn\n                >\n              </v-col>\n            </v-row>\n          </v-card>\n        </v-col>\n      </v-row>\n    <v-footer fixed>\n      <v-col cols=\"12\">\n        <v-row>\n          <v-col cols=\"5\" sm=\"6\" class=\"\">\n            <v-btn to=\"/\" block style=\"color: white\" color=\"red darken-4\"\n              >Cancelar</v-btn\n            >\n          </v-col>\n          <v-col cols=\"7\" sm=\"6\" class=\"\">\n            <v-btn\n              @click=\"crear_anuncio\"\n              block\n              style=\"color: white\"\n              color=\"cyan darken-4\"\n              >Crear anuncio</v-btn\n            >\n          </v-col>\n        </v-row>\n      </v-col>\n    </v-footer>\n  </v-container>\n</template>\n<script>\nimport { db, st } from \"../firebase\";\n\nexport default {\n  name: \"anuncio\",\n  mounted() {\n    // this.crear_anuncio();\n  },\n  data: () => ({\n    msganuncio: false,\n    id_foto: 1,\n    // id_anuncio: \"\",\n    cargando: false,\n    alert: false,\n    contador: 0,\n    codigo: \"\",\n    imagen2: null,\n    model: 0,\n    anuncio: {\n      estado: \"\",\n      marca: \"\",\n      modelo: \"\",\n      tamanio: \"\",\n      sistemaop: \"\",\n      rom: \"\",\n      ram: \"\",\n      titulo: \"\",\n      vendedor: \"\",\n      telefono: \"\",\n      descripcion: \"\",\n      precio: 0,\n      fecha: \"\"\n    },\n    imagen:\n      \"https://st3.depositphotos.com/23594922/31822/v/600/depositphotos_318221368-stock-illustration-missing-picture-page-for-website.jpg\",\n    estado: \"\",\n    imagenes: [],\n  }),\n  created(){\n    this.numero_random();\n  },\n  methods: {\n    async crear_anuncio(){\n      this.anuncio.precio=parseInt(this.anuncio.precio);\n      this.anuncio.fecha=new Date();\n      let this2=this;\n      await db.collection(\"anuncios\").doc(this2.codigo).set(this2.anuncio).then(function(){\n          this2.$router.push(\"/\");\n      })\n      .catch((error) => {\n          console.error(\"error:\", error);\n        });\n    },\n    // guardarAnuncio() {\n    //   this.anuncio.precio=parseInt(this.anuncio.precio);\n    //   let this2=this;\n    //   db.collection(\"anuncios\")\n    //     .doc(this.id_anuncio).update(this.anuncio).then(function(){\n    //        this2.$router.push(\"/\");\n    //     })\n    // },\n    async subir_imagen() {\n      this.cargando = true;\n      if (this.imagen2) {\n        let this2 = this;\n        this.contador++;\n        try {\n          const refs = st.ref();\n          const imgref = await refs\n            .child(this.codigo)\n            .child(this.contador + \".jpg\");\n          imgref.put(this.imagen2).then(function () {\n            this2.traer_imagen();\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        this.alert = true;\n      }\n    },\n    async traer_imagen() {\n      const refs = st.ref();\n      let this2 = this;\n      await refs\n        .child(this.codigo + \"/\")\n        .listAll()\n        .then(function (result) {\n          result.items.forEach(function (imgRefe) {\n            let nombre = imgRefe.name;\n            if (nombre == this2.contador + \".jpg\") {\n              let nueva_imagen = {};\n              imgRefe.getMetadata().then(function (metadata) {\n                nueva_imagen.name = nombre;\n                nueva_imagen.tamanio = metadata.size / 1000;\n                nueva_imagen.tipo = metadata.contentType;\n              });\n              imgRefe.getDownloadURL().then(function (url) {\n                nueva_imagen.link = url;\n                this2.imagenes.push(nueva_imagen);\n                this2.cargando = false;\n                this2.imagen2 = null;\n                // if (this2.contador == 1) {\n                //   this2.imagenes.shift();\n                // }\n              });\n            }\n          });\n        });\n    },\n    eliminar_foto(indice, nombre) {\n      const refs = st.ref();\n      let this2 = this;\n      var imgref = refs.child(this.codigo + \"/\" + nombre);\n\n      imgref\n        .delete()\n        .then(function () {\n          this2.imagenes.splice(indice, 1);\n          this2.contador--;\n        })\n        .catch(function (error) {\n          console.log(\"No se borro la imagen: \" + error);\n        });\n    },\n     numero_random() {\n      this.codigo = Math.random().toString(36).substr(2, 20);\n      console.log(this.codigo)\n    },\n  },\n};\n</script>"]}]}